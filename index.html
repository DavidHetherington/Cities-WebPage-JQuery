<!doctype html>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<!--                                                                         -->
<!--    Author: David Hetherington                                           -->
<!--                                                                         -->
<!--    Part of the MinimalSaaS demonstration architecture. The Cities       -->
<!--    Webpage is a front end that uses JQuery to persist and format data.  -->
<!--    The main code is built into index.html.                              -->
<!--                                                                         -->
<!--    The code builds a table of cities with population, cost              -->
<!--    of living, and crime rate which it gets from the                     -->
<!--    RESTful API provided by CitiesBE.js which is hosted                  -->
<!--    somewhere else, for example on an Amazon EC2 instance.               -->
<!--    CitiesBE.js in turn accesses the Cities Collection in the            -->
<!--    asatte-press-city-guide database on Mongolab.com.                    -->
<!--                                                                         -->
<!--    For more information on the Minimal SaaS demonstration               -->
<!--    architecture see: https://github.com/DavidHetherington/              -->
<!--                                                                         -->
<!--    David Hetherington - 17 December 2015                                -->
<!--                                                                         -->
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<html>

    <!--    Web page header ------------------------------------------------ -->
    <head>
        <meta charset="utf-8">
        <title>Cities Demo</title>
        <link rel="stylesheet" href="Cities-Style.css">
        
    </head>

    <!--    Body ----------------------------------------------------------- -->
    <body>
    
        <header id="cities-header">
            <img src="Asatte-Cities-Logo.png">
        </header>

        <!--    Left-hand area for the actual application content ---------- -->
        <section id="cities-description-area">
            <p>
                Welcome to the Minimal SaaS Cities 
                demonstration. This demonstration consists of three
                pieces.
                </p>
            <ul>
                <li><strong>Web Front-End - </strong>This webpage connects
                    to the application server using a
                    RESTful API. The web front-end is implemented using JQuery.
                    </li>
                <li><strong>Application Server - </strong>Provides the RESTful API
                    and connects to a MongoDB NoSQL database instance.
                    The back end is implemented in Node.js and Express
                    and hosted on an Amazon EC2 Ubuntu instance.
                    </li>    
                <li><strong>Database - </strong>The database is hosted
                    by Mongolab.com and is a MongoDB NoSQL document
                    database. 
                    </li>
            </ul>
            <p>
                The CSS design of this page is intentionally spartan with
                a minimum of fancy formatting tricks. The main goal of this
                demonstration is to demonstrate the techniques for
                implementing the communication between the three pieces. As
                such, the CSS design is intentionally quite simple so as to make
                the source code easy to read and not confuse function provided
                by the browser's CSS engine with front-end function implemented using
                the web programming framework. 
            </p>
            <p>
                Likewise, the column sort function is implemented by the database
                (or in some cases by its API library on the application server) 
                In a really SaaS product, it would probably make more sense
                to sort this type of table in the web front-end. However, the
                goal of this demonstration is to demonstrate RESTful API techniques
                and showing how to pass the sort parameters in the API takes
                precedence over achieving the snappiest performance in the browser.
            </p>
            <p>
                <span class="not-implemented">Note: the add, delete, and update functions are not implemented yet.
                </span>     
            </p>
        
        </section>
        
        <!--    Right-hand area for the actual application content --------- -->
        <section id="cities-application-area">                          
            <header id="cities-header">
                <h1>United States City Key Data</h1>
            </header>
        
            <section id="cities-table">
            
            <div id="cities-count-box">
                        <span id="cities-count">32</span> 
                        cities in the database
            </div>            
            <p>
                <em>Click a column header to sort. Click it again to reverse the sort order.</em>
            </p>
                          
            <table id="cities-data-table">

                <thead>
                    <tr>
                        <th class="header-city" onclick="GetCityTableContent('city')">City</th>      
                        <th class="header-state" onclick="GetCityTableContent('state')">State</th>
                        <th class="header-population" onclick="GetCityTableContent('population')">Population</th>
                        <th class="header-crime" onclick="GetCityTableContent('crime')">Crime Index</th>
                        <th class="header-cost-of-living" onclick="GetCityTableContent('cost-of-living')">Cost Index</th>
                    </tr>
                </thead>
                <tbody id=cities-data-body>
                    <!-- information from database will be inserted here -->
                <tbody>
            </table>              
        
            </section>
            
            <!--    Show cities count and buttons in the table footer  ----- -->
            <footer id="cities-footer">
                    
                    <p>        
                        <button class="city-edit-button" id="city-add">
                            Add
                        </button>
                        <button class="city-edit-button" id="city-delete">
                            Delete
                        </button>
                        <button class="city-edit-button" id="city-delete">
                            Update
                        </button>
                    </p>
            </footer>
        </section>
        
        <!--    Footer for the entier webpage  ----------------------------- -->
        <div class="flush-floats"/>
        
        <footer id="cities-webpage-footer">
        <p>
            For more information on the Minimal SaaS demonstration architecture
            see: 
            <a href="https://github.com/DavidHetherington/">https://github.com/DavidHetherington/</a>
        </p>
            
        </footer>

        <div id="debug-message" />
    <!--    Load scripts after main page has rendered ---------------------- -->
    <script type="text/javascript" src="js/lib/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery.number.min.js"></script>
    <script type="text/javascript" src="js/Cities.js"></script>
    </body>
    
    
</html>